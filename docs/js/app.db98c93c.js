(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("2f39")},"0047":function(e,t,n){},"2f39":function(e,t,n){"use strict";n.r(t);var a=n("967e"),s=n.n(a),o=(n("96cf"),n("fa84")),r=n.n(o),i=(n("7d6e"),n("e54f"),n("985d"),n("0047"),n("2b0e")),l=n("17f5"),c=n("b05d");i["a"].use(c["a"],{config:{},lang:l["a"]});var u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},p=[],d={name:"App"},m=d,f=n("2877"),v=Object(f["a"])(m,u,p,!1,null,null,null),h=v.exports,b=(n("ac6a"),n("cadf"),n("06db"),n("5df3"),n("f400"),n("2f62"));i["a"].use(b["a"]);var y=function(){var e=new b["a"].Store({state:{table:new Map,csvcomplete:!1},mutations:{setDownloadComplete:function(e){e.csvcomplete=!0},addRow:function(e,t){var n=t.Word[0];e.table.has(n)||e.table.set(n,new Map),e.table.get(n).set(t.Word,t)}},actions:{setDownloadComplete:function(e){var t=e.commit;t("setDownloadComplete")},addRow:function(e,t){var n=e.commit;n("addRow",t)}},strict:!1});return e},g=n("8c4f"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"lHh Lpr lFf"}},[n("q-page-container",[n("router-view")],1),n("q-footer",{staticClass:"bg-grey-1 text-black q-py-md q-pl-md"},[e._v("\n    This app is supported by "),n("a",{attrs:{href:"https://persuadr.ai"}},[e._v("Persuadr.ai")])])],1)},k=[],q={name:"Layout"},_=q,x=n("fe09"),M=Object(f["a"])(_,w,k,!1,null,null,null),C=M.exports;M.options.components=Object.assign({QLayout:x["e"],QPageContainer:x["i"],QFooter:x["c"]},M.options.components||{});var $=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",[n("h2",{staticClass:"text-center q-mb-md"},[e._v("Wordimiser")]),n("h5",{staticClass:"text-center q-mt-none"},[e._v("Find the best formulation for your slogan given your target.")]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-8 offset-md-1"},[n("h6",{staticClass:"q-mb-sm"},[e._v("Enter a sentence, enter synonyms for each meaningful word,\n        select a target audience, enjoy.")]),n("span",[e._v("More information on how it's working can be found in\n        "),n("a",{attrs:{href:"https://medium.com/persuadr-ai/optimise-the-emotion-of-your-slogan-using-ai-7725b2576d38"}},[e._v("this")]),e._v("\n        Medium post.")])])]),n("div",{staticClass:"row q-mt-xl justify-center"},[n("div",{staticClass:"col-xs-10"},[n("q-stepper",{attrs:{color:"primary",animated:"","keep-alive":"","header-nav":""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[n("q-step",{attrs:{name:1,title:"Enter your sentence",icon:"create"}},[n("q-input",{attrs:{outlined:"",label:"Enter your sentence"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.splitSentence(t)}},model:{value:e.sentence,callback:function(t){e.sentence=t},expression:"sentence"}}),n("div",{staticClass:"q-mt-lg"},[n("q-btn",{attrs:{label:"Next",size:"md",color:"primary"},on:{click:e.splitSentence}})],1)],1),n("q-step",{attrs:{name:2,title:"Remove meaningless words",icon:"delete"}},[n("div",{staticClass:"text-subtitle-1"},[e._v("Remove meaningless words (like the, a, etc.)")]),n("div",e._l(e.filtered,(function(t){return n("q-chip",{key:t.it,attrs:{removable:"",label:t.word},on:{remove:function(n){e.words[t.it].show=!1}}})})),1),n("div",{staticClass:"q-mt-lg"},[n("q-btn",{attrs:{label:"Next",size:"md",color:"primary",loading:e.loading},on:{click:e.checkDownloaded}})],1)]),n("q-step",{attrs:{name:3,title:"Enter synonyms to evaluate",icon:"create"}},[n("div",{staticClass:"text-subtitle-1"},[e._v("Start typing under each word, suggestions of synonyms will be presented.\n            Only words from the suggestions can be used. Note that verbs are in the infinitive form\n            and nouns are singular."),n("br"),e._v("To be sure your words are in the database,\n            you need to enter them as synonym of themselves.")]),n("q-markup-table",{staticClass:"q-mt-md",attrs:{flat:""}},[n("thead",[n("tr",e._l(e.filtered,(function(t){return n("th",{key:t.it,staticClass:"text-left"},[e._v(e._s(t.word))])})),0)]),n("tbody",[n("tr",e._l(e.filtered,(function(t){return n("td",{key:t.it},[n("q-select",{attrs:{outlined:"",multiple:"","use-chips":"",options:e.options,"use-input":""},on:{filter:e.filterFn},model:{value:t.selected,callback:function(n){e.$set(t,"selected",n)},expression:"w.selected"}})],1)})),0)])]),n("q-btn",{staticClass:"q-mt-sm",attrs:{label:"Next",size:"md",color:"primary"},on:{click:function(t){e.step+=1}}})],1),n("q-step",{attrs:{name:4,title:"Select your conditions",icon:"fas fa-user"}},[n("div",{staticClass:"text-subtitle-1 q-mb-md"},[e._v("Select your target audience and valence (see\n            "),n("a",{attrs:{href:"https://medium.com/persuadr-ai/optimise-the-emotion-of-your-slogan-using-ai-7725b2576d38"}},[e._v("\n            the Medium post")]),e._v(" for more information about valence).")]),n("q-option-group",{attrs:{options:[{label:"all",value:"all"},{label:"mostly men",value:"M"},{label:"mostly women",value:"W"},{label:"mostly < 30yo",value:"Y"},{label:"mostly > 30yo",value:"O"}],color:"primary",inline:""},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}}),n("q-toggle",{attrs:{color:"primary",label:(e.positivevalence?"Positive":"Negative")+" valence"},model:{value:e.positivevalence,callback:function(t){e.positivevalence=t},expression:"positivevalence"}}),n("br"),n("q-btn",{staticClass:"q-mt-sm",attrs:{label:"Next",size:"md",color:"primary"},on:{click:e.calculateCombinations}})],1),n("q-step",{attrs:{name:5,title:"Best slogan calculation"}},[n("div",{staticClass:"text-subtitle-1 q-mb-md"},[e._v("Summary:"),n("br"),e._v("\n          Original sentence: "+e._s(e.sentence)),n("br"),e._v("\n          Filter: "+e._s(e.filterLabel)+", "+e._s(e.positivevalence?"positive":"negative")+" valence"),n("br"),e._v("\n          "+e._s(e.allcomb.length)+" combinations to calculate")]),n("q-btn",{attrs:{label:"Let's go!",side:"md",color:"primary"},on:{click:e.calculate}})],1),n("q-step",{attrs:{name:6,title:"Results"}},[n("div",{staticClass:"text-subtitle-1 q-mb-md"},[e._v("Best 3 formulations (if at least 3 combinations):")]),n("div",e._l(e.threebest,(function(t,a){return n("div",{key:a},[e._v(e._s(t.comb))])})),0)])],1)],1)])])},O=[],Q=(n("55dd"),n("4db1")),S=n.n(Q),F=(n("f559"),n("28a5"),n("a481"),n("369b")),j=n.n(F),A={name:"PageIndex",data:function(){return{sentence:"",words:[],step:1,options:[],loading:!1,group:null,positivevalence:!0,allcomb:[],threebest:[]}},computed:{filtered:function(){return this.words.filter((function(e){return e.show}))},filterLabel:function(){switch(this.group){case"all":return"All people";case"M":return"Mostly men";case"F":return"Mostly women";case"Y":return"Mostly < 30yo";default:return"Mostly > 30yo"}}},mounted:function(){var e=r()(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t="https://persuadr.github.io/Wordimiser/statics/table.csv",j.a.parse(t,{download:!0,worker:!0,dynamicTyping:!0,delimiter:",",header:!0,fastMode:!0,step:function(e,t){n.$store.dispatch("addRow",e.data),e.errors.length&&(console.error("Row errors:",e.errors),t.abort())},complete:function(){n.$store.dispatch("setDownloadComplete")},error:function(e){console.error(e)}});case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{splitSentence:function(){if(this.sentence.trim()){var e=/[,.;:?!()]/gi,t=this.sentence.replace(e,"");this.words=t.split(" ").map((function(e,t){return{word:e,show:!0,it:t,selected:[]}})),this.step+=1}},filterFn:function(e,t,n){var a=this;e.length<3?n():t((function(){a.options=[];var t=e.toLowerCase(),n=t[0],s=a.$store.state.table.get(n).keys(),o=s.next();while(!o.done)o.value.startsWith(t)&&a.options.push(o.value),o=s.next()}))},checkDownloaded:function(){var e=this;if(this.$store.state.csvcomplete)this.step+=1;else{this.loading=!0;var t=setInterval((function(){e.$store.state.csvcomplete&&(e.loading=!1,e.step+=1,clearInterval(t))}),500)}},f:function(e,t){var n;return(n=[]).concat.apply(n,S()(e.map((function(e){return t.map((function(t){return[].concat(e,t)}))}))))},cartesian:function(e,t){if(t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return this.cartesian.apply(this,[this.f(e,t)].concat(a))}return e},calculateCombinations:function(){this.allcomb=this.cartesian.apply(this,S()(this.words.filter((function(e){return e.show})).map((function(e){return e.selected})))),this.step+=1},calculate:function(){var e,t,n=this;switch(this.group){case"all":e="V.Mean.Sum",t="A.Mean.Sum";break;case"M":e="V.Mean.M",t="A.Mean.M";break;case"F":e="V.Mean.F",t="A.Mean.F";break;case"O":e="V.Mean.O",t="A.Mean.O";break;default:e="V.Mean.Y",t="A.Mean.Y";break}var a=this.allcomb.map((function(a){return{comb:a,valence:a.reduce((function(t,a){return Math.min(n.$store.state.table.get(a[0]).get(a)[e],n.$store.state.table.get(t[0]).get(t)[e])})),arousal:a.reduce((function(e,a){return Math.max(Math.abs(n.$store.state.table.get(a[0]).get(a)[t]-5),Math.abs(n.$store.state.table.get(e[0]).get(e)[t]-5))}))}}));a.sort((function(e,t){return e.arousal<t.arousal?n.positivevalence?-1:1:e.arousal>t.arousal?n.positivevalence?1:-1:n.positivevalence?e.valence>t.valence?-1:1:e.valence<t.valence?-1:1})),this.step+=1,this.threebest=a.slice(0,3)}}},E=A,R=Object(f["a"])(E,$,O,!1,null,null,null),L=R.exports;R.options.components=Object.assign({QPage:x["h"],QStepper:x["l"],QStep:x["k"],QInput:x["d"],QBtn:x["a"],QChip:x["b"],QMarkupTable:x["f"],QSelect:x["j"],QOptionGroup:x["g"],QToggle:x["m"]},R.options.components||{});var V=[{path:"/",component:C,children:[{path:"",component:L}]}];V.push({path:"*",component:function(){return n.e("4b47640d").then(n.bind(null,"e51e"))}});var W=V;i["a"].use(g["a"]);var D=function(){var e=new g["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:W,mode:"history",base:"/Wordimiser/"});return e},N=function(){var e="function"===typeof y?y({Vue:i["a"]}):y,t="function"===typeof D?D({Vue:i["a"],store:e}):D;e.$router=t;var n={el:"#q-app",router:t,store:e,render:function(e){return e(h)}};return{app:n,store:e,router:t}},P=N(),T=P.app;P.store,P.router;function z(){return B.apply(this,arguments)}function B(){return B=r()(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:new i["a"](T);case 1:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}z()}},[[0,"runtime","vendor"]]]);